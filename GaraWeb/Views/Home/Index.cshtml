@{
    ViewData["Title"] = "Trang chủ";
    var dichVus = ViewBag.DichVus as List<GaraWeb.Models.DichVu> ?? new List<GaraWeb.Models.DichVu>();
    var sanPhams = ViewBag.SanPhams as List<GaraWeb.Models.SanPham> ?? new List<GaraWeb.Models.SanPham>();
}

<link rel="stylesheet" href="~/css/home-luxury.css" asp-append-version="true" />

<!-- Hero Slider Section -->
<section class="hero-luxury">
    <div class="hero-slider">
        <div class="hero-slide active" style="background-image: url('https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=1920');">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <div class="container">
                    <div class="hero-badge">PREMIUM AUTO SERVICE</div>
                    <h1 class="hero-title">MTProAuto</h1>
                    <p class="hero-subtitle">Dịch vụ sửa chữa & bảo dưỡng ô tô chuyên nghiệp hàng đầu</p>
                    <div class="hero-buttons">
                        <a href="#services" class="btn-luxury primary">
                            <i class="fas fa-tools"></i> Khám phá dịch vụ
                        </a>
                        <a href="@Url.Action("Index", "SanPham")" class="btn-luxury outline">
                            <i class="fas fa-shopping-bag"></i> Xem sản phẩm
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-slide" style="background-image: url('https://images.unsplash.com/photo-1544636331-e26879cd4d9b?w=1920');">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <div class="container">
                    <div class="hero-badge">PROFESSIONAL TEAM</div>
                    <h1 class="hero-title">Đội ngũ chuyên nghiệp</h1>
                    <p class="hero-subtitle">Kỹ thuật viên giàu kinh nghiệm, trang thiết bị hiện đại</p>
                    <div class="hero-buttons">
                        <a href="@Url.Action("Index", "DichVu")" class="btn-luxury primary">
                            <i class="fas fa-calendar-check"></i> Đặt lịch ngay
                        </a>
                        <a href="@Url.Action("Index", "LienHe")" class="btn-luxury outline">
                            <i class="fas fa-phone"></i> Liên hệ tư vấn
                        </a>
                    </div>
                </div>
            </div>
        </div>
        <div class="hero-slide" style="background-image: url('https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920');">
            <div class="hero-overlay"></div>
            <div class="hero-content">
                <div class="container">
                    <div class="hero-badge">GENUINE PARTS</div>
                    <h1 class="hero-title">Phụ tùng chính hãng</h1>
                    <p class="hero-subtitle">100% phụ tùng chính hãng, giá cả cạnh tranh, bảo hành dài hạn</p>
                    <div class="hero-buttons">
                        <a href="@Url.Action("Index", "SanPham")" class="btn-luxury primary">
                            <i class="fas fa-shopping-cart"></i> Mua sắm ngay
                        </a>
                        <a href="#about" class="btn-luxury outline">
                            <i class="fas fa-info-circle"></i> Tìm hiểu thêm
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Slider Navigation -->
    <button class="slider-nav prev"><i class="fas fa-chevron-left"></i></button>
    <button class="slider-nav next"><i class="fas fa-chevron-right"></i></button>
    <!-- Slider Dots -->
    <div class="slider-dots">
        <span class="dot active" data-slide="0"></span>
        <span class="dot" data-slide="1"></span>
        <span class="dot" data-slide="2"></span>
    </div>
    <!-- Scroll Indicator -->
    <div class="scroll-indicator">
        <span>Cuộn xuống</span>
        <i class="fas fa-chevron-down"></i>
    </div>
</section>

<!-- Featured Car Section -->
<section class="featured-car-section" id="about">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-6">
                <div class="featured-car-image">
                    <img src="https://images.unsplash.com/photo-1555215695-3004980ad54e?w=800" alt="Featured Car">
                    <div class="car-badge">
                        <span class="year">2024</span>
                        <span class="model">ZK16</span>
                    </div>
                </div>
            </div>
            <div class="col-lg-6">
                <div class="featured-car-info">
                    <h2 class="section-label">VỀ CHÚNG TÔI</h2>
                    <h3 class="featured-title">MTProAuto - Đối tác tin cậy cho xe của bạn</h3>
                    <p class="featured-desc">Với hơn 10 năm kinh nghiệm trong ngành, MTProAuto tự hào là địa chỉ uy tín hàng đầu trong lĩnh vực sửa chữa và bảo dưỡng ô tô. Chúng tôi cam kết mang đến dịch vụ chất lượng cao nhất với giá cả hợp lý.</p>
                    <div class="car-specs">
                        <div class="spec-item">
                            <i class="fas fa-tachometer-alt"></i>
                            <div>
                                <span class="spec-value">10K+</span>
                                <span class="spec-label">Khách hàng</span>
                            </div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-car"></i>
                            <div>
                                <span class="spec-value">50K+</span>
                                <span class="spec-label">Xe bảo dưỡng</span>
                            </div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-award"></i>
                            <div>
                                <span class="spec-value">10+</span>
                                <span class="spec-label">Năm kinh nghiệm</span>
                            </div>
                        </div>
                        <div class="spec-item">
                            <i class="fas fa-star"></i>
                            <div>
                                <span class="spec-value">4.9/5</span>
                                <span class="spec-label">Đánh giá</span>
                            </div>
                        </div>
                    </div>
                    <div class="featured-buttons">
                        <a href="@Url.Action("Index", "LienHe")" class="btn-luxury primary">Liên hệ ngay</a>
                        <a href="@Url.Action("Index", "DichVu")" class="btn-luxury dark">Xem dịch vụ</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Services Section -->
<section class="services-luxury" id="services">
    <div class="container">
        <div class="section-header">
            <h2 class="section-label">DỊCH VỤ CỦA CHÚNG TÔI</h2>
            <h3 class="section-title">Dịch vụ chuyên nghiệp</h3>
            <p class="section-desc">Chúng tôi cung cấp đầy đủ các dịch vụ sửa chữa và bảo dưỡng ô tô với chất lượng cao nhất</p>
        </div>
        <div class="services-grid">
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-oil-can"></i>
                </div>
                <h4>Thay dầu & Bảo dưỡng</h4>
                <p>Dịch vụ thay dầu định kỳ và bảo dưỡng toàn diện cho xe của bạn</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-cogs"></i>
                </div>
                <h4>Sửa chữa động cơ</h4>
                <p>Chẩn đoán và sửa chữa các vấn đề động cơ với thiết bị hiện đại</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-car-crash"></i>
                </div>
                <h4>Sửa chữa thân vỏ</h4>
                <p>Phục hồi và sửa chữa thân vỏ xe sau va chạm, tai nạn</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-spray-can"></i>
                </div>
                <h4>Sơn xe chuyên nghiệp</h4>
                <p>Dịch vụ sơn xe với công nghệ tiên tiến, màu sắc chuẩn xác</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-snowflake"></i>
                </div>
                <h4>Điều hòa & Điện lạnh</h4>
                <p>Bảo trì và sửa chữa hệ thống điều hòa, điện lạnh ô tô</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
            <div class="service-luxury-card">
                <div class="service-icon">
                    <i class="fas fa-tire"></i>
                </div>
                <h4>Lốp & Phanh</h4>
                <p>Kiểm tra, thay thế lốp xe và hệ thống phanh an toàn</p>
                <a href="@Url.Action("Index", "DichVu")" class="service-link">Tìm hiểu thêm <i class="fas fa-arrow-right"></i></a>
            </div>
        </div>
    </div>
</section>

<!-- Contact Us Section -->
<section class="contact-luxury">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-lg-5">
                <div class="contact-info-luxury">
                    <h2 class="section-label">LIÊN HỆ VỚI CHÚNG TÔI</h2>
                    <h3 class="contact-title">Bạn cần hỗ trợ?</h3>
                    <p class="contact-desc">Đội ngũ tư vấn viên của chúng tôi luôn sẵn sàng hỗ trợ bạn 24/7. Hãy liên hệ ngay để được tư vấn miễn phí!</p>
                    <div class="contact-items">
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="contact-text">
                                <span class="label">Địa chỉ</span>
                                <span class="value">Ngã 4 An Dương Vương, Trần Phú, Quảng Ngãi</span>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-phone-alt"></i>
                            </div>
                            <div class="contact-text">
                                <span class="label">Hotline</span>
                                <span class="value">038 442 4567</span>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="contact-text">
                                <span class="label">Email</span>
                                <span class="value">contact@mtproauto.vn</span>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div class="contact-text">
                                <span class="label">Giờ làm việc</span>
                                <span class="value">7:00 - 18:00 (Thứ 2 - Chủ nhật)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-lg-7">
                <div class="contact-image-grid">
                    <img src="https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=600" alt="Service 1" class="grid-img img-1">
                    <img src="https://images.unsplash.com/photo-1619642751034-765dfdf7c58e?w=600" alt="Service 2" class="grid-img img-2">
                    <img src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=600" alt="Service 3" class="grid-img img-3">
                    <img src="https://images.unsplash.com/photo-1625047509248-ec889cbff17f?w=600" alt="Service 4" class="grid-img img-4">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Our Team Section -->
<section class="team-luxury">
    <div class="container">
        <div class="section-header">
            <h2 class="section-label">ĐỘI NGŨ CỦA CHÚNG TÔI</h2>
            <h3 class="section-title">Gặp gỡ chuyên gia</h3>
            <p class="section-desc">Đội ngũ kỹ thuật viên giàu kinh nghiệm, được đào tạo chuyên nghiệp</p>
        </div>
        <div class="team-grid">
            <div class="team-card">
                <div class="team-image">
                    <img src="https://images.unsplash.com/photo-1560250097-0b93528c311a?w=400" alt="Team Member">
                    <div class="team-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="team-info">
                    <h4>Nguyễn Văn A</h4>
                    <span>Giám đốc kỹ thuật</span>
                </div>
            </div>
            <div class="team-card">
                <div class="team-image">
                    <img src="https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=400" alt="Team Member">
                    <div class="team-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="team-info">
                    <h4>Trần Văn B</h4>
                    <span>Kỹ thuật viên cao cấp</span>
                </div>
            </div>
            <div class="team-card">
                <div class="team-image">
                    <img src="https://images.unsplash.com/photo-1519085360753-af0119f7cbe7?w=400" alt="Team Member">
                    <div class="team-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="team-info">
                    <h4>Lê Văn C</h4>
                    <span>Chuyên gia động cơ</span>
                </div>
            </div>
            <div class="team-card">
                <div class="team-image">
                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?w=400" alt="Team Member">
                    <div class="team-social">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-linkedin-in"></i></a>
                    </div>
                </div>
                <div class="team-info">
                    <h4>Phạm Văn D</h4>
                    <span>Chuyên gia điện ô tô</span>
                </div>
            </div>
        </div>
    </div>
</section>


<!-- Products Section -->
<section class="products-luxury" id="products">
    <div class="container">
        <div class="section-header">
            <h2 class="section-label">SẢN PHẨM NỔI BẬT</h2>
            <h3 class="section-title">Phụ tùng chính hãng</h3>
            <p class="section-desc">Phụ tùng và phụ kiện ô tô chính hãng, chất lượng cao với giá cả cạnh tranh</p>
        </div>
        <div class="products-grid">
            @foreach (var sanPham in sanPhams.Take(4))
            {
                <div class="product-luxury-card">
                    <div class="product-image">
                        <img src="@(string.IsNullOrEmpty(sanPham.HinhAnh) ? "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400" : sanPham.HinhAnh)" alt="@sanPham.TenSanPham">
                        @if (sanPham.SoLuongTon > 0)
                        {
                            <span class="product-badge in-stock"><i class="fas fa-check"></i> Còn hàng</span>
                        }
                        else
                        {
                            <span class="product-badge out-stock"><i class="fas fa-times"></i> Hết hàng</span>
                        }
                        <div class="product-overlay">
                            <button class="quick-view" onclick="addToCart(@sanPham.Id)">
                                <i class="fas fa-cart-plus"></i>
                            </button>
                            <a href="@Url.Action("ChiTiet", "SanPham", new { id = sanPham.Id })" class="quick-view">
                                <i class="fas fa-eye"></i>
                            </a>
                        </div>
                    </div>
                    <div class="product-info">
                        <h4>@sanPham.TenSanPham</h4>
                        <p>@sanPham.MoTa</p>
                        <div class="product-footer">
                            <span class="price">@sanPham.Gia.ToString("N0") ₫</span>
                            @if (sanPham.SoLuongTon > 0)
                            {
                                <button class="btn-add-cart" onclick="addToCart(@sanPham.Id)">
                                    <i class="fas fa-shopping-cart"></i> Thêm
                                </button>
                            }
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="text-center mt-5">
            <a href="@Url.Action("Index", "SanPham")" class="btn-luxury primary">
                Xem tất cả sản phẩm <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Services List Section -->
@if (dichVus.Any())
{
<section class="services-list-luxury">
    <div class="container">
        <div class="section-header">
            <h2 class="section-label">DỊCH VỤ HIỆN CÓ</h2>
            <h3 class="section-title">Đặt lịch dịch vụ</h3>
            <p class="section-desc">Chọn dịch vụ phù hợp và đặt lịch ngay hôm nay</p>
        </div>
        <div class="services-list-grid">
            @foreach (var dichVu in dichVus.Take(6))
            {
                <div class="service-list-card">
                    <div class="service-list-image">
                        <img src="@(string.IsNullOrEmpty(dichVu.HinhAnh) ? "https://images.unsplash.com/photo-1486262715619-67b85e0b08d3?w=400" : dichVu.HinhAnh)" alt="@dichVu.TenDichVu">
                        @if (dichVu.TrangThai)
                        {
                            <span class="service-badge"><i class="fas fa-check"></i> Có sẵn</span>
                        }
                    </div>
                    <div class="service-list-info">
                        <h4>@dichVu.TenDichVu</h4>
                        <p>@dichVu.MoTa</p>
                        <div class="service-list-footer">
                            <span class="price">@dichVu.Gia.ToString("N0") ₫</span>
                            <a href="@Url.Action("DatDichVu", "DichVu", new { id = dichVu.Id })" class="btn-book">
                                <i class="fas fa-calendar-check"></i> Đặt ngay
                            </a>
                        </div>
                    </div>
                </div>
            }
        </div>
        <div class="text-center mt-5">
            <a href="@Url.Action("Index", "DichVu")" class="btn-luxury primary">
                Xem tất cả dịch vụ <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>
}

<!-- CTA Section -->
<section class="cta-luxury">
    <div class="cta-overlay"></div>
    <div class="container">
        <div class="cta-content">
            <h2>Sẵn sàng trải nghiệm dịch vụ?</h2>
            <p>Liên hệ ngay để được tư vấn miễn phí và nhận ưu đãi đặc biệt dành cho khách hàng mới</p>
            <div class="cta-buttons">
                <a href="@Url.Action("Index", "LienHe")" class="btn-luxury light">
                    <i class="fas fa-phone-alt"></i> Liên hệ ngay
                </a>
                <a href="tel:0384424567" class="btn-luxury outline-light">
                    <i class="fas fa-headset"></i> Hotline: 038 442 4567
                </a>
            </div>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        // Hero Slider
        const slides = document.querySelectorAll('.hero-slide');
        const dots = document.querySelectorAll('.dot');
        const prevBtn = document.querySelector('.slider-nav.prev');
        const nextBtn = document.querySelector('.slider-nav.next');
        let currentSlide = 0;
        let slideInterval;

        function showSlide(index) {
            slides.forEach((slide, i) => {
                slide.classList.remove('active');
                dots[i].classList.remove('active');
            });
            slides[index].classList.add('active');
            dots[index].classList.add('active');
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            showSlide(currentSlide);
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            showSlide(currentSlide);
        }

        function startSlider() {
            slideInterval = setInterval(nextSlide, 5000);
        }

        function stopSlider() {
            clearInterval(slideInterval);
        }

        prevBtn.addEventListener('click', () => {
            stopSlider();
            prevSlide();
            startSlider();
        });

        nextBtn.addEventListener('click', () => {
            stopSlider();
            nextSlide();
            startSlider();
        });

        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                stopSlider();
                currentSlide = index;
                showSlide(currentSlide);
                startSlider();
            });
        });

        startSlider();

        // Add to cart function
        function addToCart(sanPhamId) {
            $.post('@Url.Action("ThemVaoGioHang", "SanPham")', {
                sanPhamId: sanPhamId,
                soLuong: 1
            }, function(data) {
                if (data.success) {
                    updateCartCount();
                    alert('Đã thêm sản phẩm vào giỏ hàng!');
                } else {
                    alert('Có lỗi xảy ra: ' + data.message);
                }
            });
        }

        // Scroll animations
        const observerOptions = {
            threshold: 0.1,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('animate-in');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.service-luxury-card, .team-card, .product-luxury-card, .service-list-card').forEach(el => {
            observer.observe(el);
        });
    </script>
}
